<div align="center">
  <a>
    <img src="https://zavet31.ru/images/telegram-1.png" alt="LogoTG" width="80" height="80">
  </a>
  <h2 align="center">Telegram bot for convenient hotel search</h2>
</div>

## О проекте

Данный проект - телеграмм бот, позволяет найти выгодное предложение по запросу пользователя на платформе [Booking.com](https://www.booking.com/index.ru.html?label=gen173nr-1BCAEoggI46AdIM1gEaMIBiAEBmAEhuAEXyAEV2AEB6AEBiAIBqAIDuAKn4KerBsACAdICJDkwZDVkZDFkLTZhZWMtNDA1OS1hMGI3LTZhYjkzMzkzZmVmZdgCBeACAQ&sid=6d06c3eecee3cacfe4b18f18491656ec&keep_landing=1&sb_price_type=total&).
Пользователь с помощью команд может выполнить следующие действия (получить следующую информацию):
* Выводить самые дешевые отели по запросу пользователя (до введеной пользователем суммы)
* Выводить самые дорогие отели по запросу пользователя (от введеной пользователем суммы)
* Выводить топ отелей, наиболее подходящих по цене (пользователь вводит диапазон сумм)
* Выводить историю поиска пользователя (до 10 последних запросов)

Ко всему прочему пользователю доступен выбор количества карточек отелей, выдаваемых по запросу.
Для разработки и функционирования проекта используется открытый API, который расположен на сайте [rapidapi.com](https://rapidapi.com/apidojo/api/booking/)

## Локальная установка

Эти инструкции помогут вам развернуть проект на локальном компьютере для разработки и тестирования
Перед тем как начать следует установить модуль [venv](https://docs.python.org/3/library/venv.html). Как правило в `python 3` он уже встроен. 
### Создание
Для создания виртуального окружения, перейдите в директорию своего проекта и выполните:
  ```
  python -m venv venv
  ```
`-m` — флаг для запуска, `venv` как исполняемого модуля.
`venv` — название виртуального окружения (где будут храниться ваши библиотеки).
### Запуск проекта
* Скопируйте этот репозиторий в папку проекта `https://github.com/EduardRogozhnikov/Bot_Seach_Hotels.git`
* Создайте файл `.env` и добавьте в него переменные окружения:
<p>TOKEN_BOT = "токен вашего бота"</p>
<p>SITE_API = "ваш rapid_api key"</p>
<p>HOST_API = "здесь ссылка с запросов rapid_api key"</p>

## Описание команд бота
### Команда /start
Выводится приветствие и краткое описание бота. После чего пользователю выводится inline-клавиатура с командой `/help`

### Команда /help
Выводится список всех команд c кратким описанием функционала

### Команда /lowprice
У пользователя запрашивается:
* Город, где будет проводиться поиск
* Количество карточек отелей для вывода пользователю (не больше 20)
* Запрашивается максимальная стоимость отеля в долларах США
* Выводится календарь с возможностью выбора даты заезда и даты выезда.

### Команда /highprice
* Город, где будет проводиться поиск
* Количество карточек отелей для вывода пользователю (не больше 20)
* Запрашивается минимальная стоимость отеля в долларах США
* Выводится календарь с возможностью выбора даты заезда и даты выезда.

### Команда /custom
* Город, где будет проводиться поиск
* Количество карточек отелей для вывода пользователю (не больше 20)
* Запрашивается диапазон сумм стоимости отеля в долларах США (от и до )
* Выводится календарь с возможностью выбора даты заезда и даты выезда.

### Команда /history
После ввода команды пользователю выводится история поиска отелей:
Выдает список выполненных пользователем запросов
Дату и время ввода команды
Город, по которому пользователь искал отели

## В разработке использованы
* annotated-types==0.6.0
* certifi==2023.11.17
* normalizer==2.1.1
* colorama==0.4.6
* idna==3.4
* loguru==0.7.2
* peewee==3.15.4
* pydantic==1.10.2
* pydantic_core==2.14.3
* pyTelegramBotAPI==4.14.0
* python-dotenv==0.21.0
* requests==2.28.1
* typing_extensions==4.4.0
* urllib3==1.26.13
* win32-setctime==1.1.0

